function Banner(){this.bannerWidth=798,this.bannerGroup=$("#banner-group"),this.index=1,this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.bannerUl=$("#banner-ul"),this.liList=this.bannerUl.children("li"),this.bannerCount=this.liList.length,this.pageControl=$(".page-control")}function News(){this.page=2}Banner.prototype.initBanner=function(){var n=this,e=n.liList.eq(0).clone(),t=n.liList.eq(n.bannerCount-1).clone();n.bannerUl.append(e),n.bannerUl.prepend(t),n.bannerUl.css({width:n.bannerWidth*(n.bannerCount+2),left:-n.bannerWidth})},Banner.prototype.initPageControl=function(){for(var n=this,e=0;e<n.bannerCount;e++){var t=$("<li></li>");n.pageControl.append(t),0===e&&t.addClass("active")}n.pageControl.css({width:12*n.bannerCount+16+16*(n.bannerCount-1)})},Banner.prototype.toggleArrow=function(n){var e=this;n?(e.leftArrow.show(),e.rightArrow.show()):(e.leftArrow.hide(),e.rightArrow.hide())},Banner.prototype.animate=function(){var n=this;n.bannerUl.animate({left:-798*n.index},500);var e=n.index;e=0===e?n.bannerCount-1:e===n.bannerCount+1?0:n.index-1,n.pageControl.children("li").eq(e).addClass("active").siblings().removeClass("active")},Banner.prototype.loop=function(){var n=this;this.timer=setInterval(function(){n.index>=n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()},2e3)},Banner.prototype.listenArrowClick=function(){var n=this;n.leftArrow.click(function(){0===n.index?(n.bannerUl.css({left:-n.bannerCount*n.bannerWidth}),n.index=n.bannerCount-1):n.index--,n.animate()}),n.rightArrow.click(function(){n.index===n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animate()})},Banner.prototype.listenBannerHover=function(){var n=this;this.bannerGroup.hover(function(){clearInterval(n.timer),n.toggleArrow(!0)},function(){n.loop(),n.toggleArrow(!1)})},Banner.prototype.listenPageControl=function(){var t=this;t.pageControl.children("li").each(function(n,e){$(e).click(function(){t.index=n,t.animate()})})},Banner.prototype.run=function(){this.initBanner(),this.initPageControl(),this.loop(),this.listenBannerHover(),this.listenArrowClick(),this.listenPageControl()},News.prototype.listenLoadMoreEvent=function(){var i=this,r=$("#load-more");r.click(function(n){n.preventDefault(),$.get({url:"/news/list/",data:{p:i.page},success:function(n){if(200==n.code){var e=n.data;if(0<e.length){var t=template("news-item",{newses:e});$(".list-inner-group").append(t),i.page+=1}else r.hide()}else window.dataMessage.getMessage(n)},fail:function(n){console.log(n)}})})},News.prototype.run=function(){this.listenLoadMoreEvent()},$(function(){(new Banner).run(),(new News).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJiYW5uZXJXaWR0aCIsImJhbm5lckdyb3VwIiwiJCIsImluZGV4IiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsImJhbm5lclVsIiwibGlMaXN0IiwiY2hpbGRyZW4iLCJiYW5uZXJDb3VudCIsImxlbmd0aCIsInBhZ2VDb250cm9sIiwiTmV3cyIsInBhZ2UiLCJwcm90b3R5cGUiLCJpbml0QmFubmVyIiwic2VsZiIsImZpcnN0QmFubmVyIiwiZXEiLCJjbG9uZSIsImxhc3RCYW5uZXIiLCJhcHBlbmQiLCJwcmVwZW5kIiwiY3NzIiwid2lkdGgiLCJsZWZ0IiwiaW5pdFBhZ2VDb250cm9sIiwiaSIsImNpcmNsZSIsImFkZENsYXNzIiwidG9nZ2xlQXJyb3ciLCJpc1Nob3ciLCJzaG93IiwiaGlkZSIsImFuaW1hdGUiLCJzaWJsaW5ncyIsInJlbW92ZUNsYXNzIiwibG9vcCIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJsaXN0ZW5BcnJvd0NsaWNrIiwiY2xpY2siLCJsaXN0ZW5CYW5uZXJIb3ZlciIsImhvdmVyIiwiY2xlYXJJbnRlcnZhbCIsImxpc3RlblBhZ2VDb250cm9sIiwiZWFjaCIsIm9iaiIsInJ1biIsImxpc3RlbkxvYWRNb3JlRXZlbnQiLCJsb2FkTW9yZUJ0biIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJnZXQiLCJ1cmwiLCJkYXRhIiwicCIsInN1Y2Nlc3MiLCJuZXdzZXMiLCJ0cGwiLCJ0ZW1wbGF0ZSIsIndpbmRvdyIsImRhdGFNZXNzYWdlIiwiZ2V0TWVzc2FnZSIsImZhaWwiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJBQXNCQSxTQUFTQSxTQUNMQyxLQUFLQyxZQUFjLElBQ25CRCxLQUFLRSxZQUFjQyxFQUFFLGlCQUNyQkgsS0FBS0ksTUFBUSxFQUNiSixLQUFLSyxVQUFZRixFQUFFLGVBQ25CSCxLQUFLTSxXQUFhSCxFQUFFLGdCQUNwQkgs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LEVBQUtMLFlBQVlILFNBQVMsTUFBTXNDLEtBQUssU0FBVTNDLEVBQU80QyxHQUNsRDdDLEVBQUU2QyxHQUFLTixNQUFNLFdBQ1R6QixFQUFLYixNQUFRQSxFQUNiYSxFQUFLa0IsZUFLakJwQyxPQUFPZ0IsVUFBVWtDLElBQU0sV0FDbkJqRCxLQUFLZ0IsYUFDTGhCLEtBQUsyQixrQkFDTDNCLEtBQUtzQyxPQUNMdEMsS0FBSzJDLG9CQUNMM0MsS0FBS3lDLG1CQUNMekMsS0FBSzhDLHFCQVNUakMsS0FBS0UsVUFBVW1DLG9CQUFzQixXQUNqQyxJQUFJakMsRUFBT2pCLEtBQ1BtRCxFQUFjaEQsRUFBRSxjQUNwQmdELEVBQVlULE1BQU0sU0FBVVUsR0FDeEJBLEVBQU1DLGlCQUNObEQsRUFBRW1ELElBQUksQ0FDRkMsSUFBSyxjQUNMQyxLQUFNLENBQ0ZDLEVBQUd4QyxFQUFLSCxNQUVaNEMsUUFBUyxTQUFVRixHQUNmLEdBQW9CLEtBQWhCQSxFQUFXLEtBQVUsQ0FDckIsSUFBSUcsRUFBU0gsRUFBVyxLQUN4QixHQUFvQixFQUFoQkcsRUFBT2hELE9BQVksQ0FDbkIsSUFBSWlELEVBQU1DLFNBQVMsWUFBYSxDQUFDRixPQUFVQSxJQUNsQ3hELEVBQUUscUJBQ1JtQixPQUFPc0MsR0FDVjNDLEVBQUtILE1BQVEsT0FFYnFDLEVBQVlqQixZQUloQjRCLE9BQU9DLFlBQVlDLFdBQVdSLElBR3RDUyxLQUFNLFNBQVVDLEdBQ1pDLFFBQVFDLElBQUlGLFNBTTVCckQsS0FBS0UsVUFBVWtDLElBQU0sV0FDakJqRCxLQUFLa0QsdUJBR1QvQyxFQUFFLFlBQ2UsSUFBSUosUUFDVmtELE9BRUksSUFBSXBDLE1BQ1ZvQyIsImZpbGUiOiJpbmRleC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyDpnaLlkJHlr7nosaFcclxuLy8gMS4g5re75Yqg5bGe5oCnXHJcbi8vIOmAmui/h3RoaXPlhbPplK7lrZfvvIznu5HlrprlsZ7mgKfvvIzlubbkuJTmjIflrprku5bnmoTlgLzjgIJcclxuLy8g5Y6f5Z6L6ZO+XHJcbi8vIDIuIOa3u+WKoOaWueazlVxyXG4vLyDlnKhCYW5uZXIucHJvdG90eXBl5LiK57uR5a6a5pa55rOV5bCx5Y+v5Lul5LqG44CCXHJcblxyXG4vLyBmdW5jdGlvbiBCYW5uZXIoKSB7XHJcbi8vICAgICAvLyDov5nkuKrph4zpnaLlhpnnmoTku6PnoIFcclxuLy8gICAgIC8vIOebuOW9k+S6juaYr1B5dGhvbuS4reeahF9faW5pdF9f5pa55rOV55qE5Luj56CBXHJcbi8vICAgICBjb25zb2xlLmxvZygn5p6E6YCg5Ye95pWwJyk7XHJcbi8vICAgICB0aGlzLnBlcnNvbiA9ICd6aGlsaWFvJztcclxuLy8gfVxyXG4vL1xyXG4vLyBCYW5uZXIucHJvdG90eXBlLmdyZWV0ID0gZnVuY3Rpb24gKHdvcmQpIHtcclxuLy8gICAgIGNvbnNvbGUubG9nKCdoZWxsbyAnLHdvcmQpO1xyXG4vLyB9O1xyXG4vL1xyXG4vLyB2YXIgYmFubmVyID0gbmV3IEJhbm5lcigpO1xyXG4vLyBjb25zb2xlLmxvZyhiYW5uZXIucGVyc29uKTtcclxuLy8gYmFubmVyLmdyZWV0KCd6aGlsaWFvJyk7XHJcblxyXG5mdW5jdGlvbiBCYW5uZXIoKSB7XHJcbiAgICB0aGlzLmJhbm5lcldpZHRoID0gNzk4O1xyXG4gICAgdGhpcy5iYW5uZXJHcm91cCA9ICQoXCIjYmFubmVyLWdyb3VwXCIpO1xyXG4gICAgdGhpcy5pbmRleCA9IDE7XHJcbiAgICB0aGlzLmxlZnRBcnJvdyA9ICQoXCIubGVmdC1hcnJvd1wiKTtcclxuICAgIHRoaXMucmlnaHRBcnJvdyA9ICQoXCIucmlnaHQtYXJyb3dcIik7XHJcbiAgICB0aGlzLmJhbm5lclVsID0gJChcIiNiYW5uZXItdWxcIik7XHJcbiAgICB0aGlzLmxpTGlzdCA9IHRoaXMuYmFubmVyVWwuY2hpbGRyZW4oXCJsaVwiKTtcclxuICAgIHRoaXMuYmFubmVyQ291bnQgPSB0aGlzLmxpTGlzdC5sZW5ndGg7XHJcbiAgICB0aGlzLnBhZ2VDb250cm9sID0gJChcIi5wYWdlLWNvbnRyb2xcIik7XHJcbn1cclxuXHJcbkJhbm5lci5wcm90b3R5cGUuaW5pdEJhbm5lciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBmaXJzdEJhbm5lciA9IHNlbGYubGlMaXN0LmVxKDApLmNsb25lKCk7XHJcbiAgICB2YXIgbGFzdEJhbm5lciA9IHNlbGYubGlMaXN0LmVxKHNlbGYuYmFubmVyQ291bnQgLSAxKS5jbG9uZSgpO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5hcHBlbmQoZmlyc3RCYW5uZXIpO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5wcmVwZW5kKGxhc3RCYW5uZXIpO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5jc3Moe1wid2lkdGhcIjogc2VsZi5iYW5uZXJXaWR0aCAqIChzZWxmLmJhbm5lckNvdW50ICsgMiksICdsZWZ0JzogLXNlbGYuYmFubmVyV2lkdGh9KTtcclxufTtcclxuXHJcbkJhbm5lci5wcm90b3R5cGUuaW5pdFBhZ2VDb250cm9sID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmJhbm5lckNvdW50OyBpKyspIHtcclxuICAgICAgICB2YXIgY2lyY2xlID0gJChcIjxsaT48L2xpPlwiKTtcclxuICAgICAgICBzZWxmLnBhZ2VDb250cm9sLmFwcGVuZChjaXJjbGUpO1xyXG4gICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNpcmNsZS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzZWxmLnBhZ2VDb250cm9sLmNzcyh7XCJ3aWR0aFwiOiBzZWxmLmJhbm5lckNvdW50ICogMTIgKyA4ICogMiArIDE2ICogKHNlbGYuYmFubmVyQ291bnQgLSAxKX0pO1xyXG59O1xyXG5cclxuQmFubmVyLnByb3RvdHlwZS50b2dnbGVBcnJvdyA9IGZ1bmN0aW9uIChpc1Nob3cpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGlmIChpc1Nob3cpIHtcclxuICAgICAgICBzZWxmLmxlZnRBcnJvdy5zaG93KCk7XHJcbiAgICAgICAgc2VsZi5yaWdodEFycm93LnNob3coKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5sZWZ0QXJyb3cuaGlkZSgpO1xyXG4gICAgICAgIHNlbGYucmlnaHRBcnJvdy5oaWRlKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmFuaW1hdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmJhbm5lclVsLmFuaW1hdGUoe1wibGVmdFwiOiAtNzk4ICogc2VsZi5pbmRleH0sIDUwMCk7XHJcbiAgICB2YXIgaW5kZXggPSBzZWxmLmluZGV4O1xyXG4gICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgaW5kZXggPSBzZWxmLmJhbm5lckNvdW50IC0gMTtcclxuICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IHNlbGYuYmFubmVyQ291bnQgKyAxKSB7XHJcbiAgICAgICAgaW5kZXggPSAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpbmRleCA9IHNlbGYuaW5kZXggLSAxO1xyXG4gICAgfVxyXG4gICAgc2VsZi5wYWdlQ29udHJvbC5jaGlsZHJlbignbGknKS5lcShpbmRleCkuYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmxvb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChzZWxmLmluZGV4ID49IHNlbGYuYmFubmVyQ291bnQgKyAxKSB7XHJcbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHtcImxlZnRcIjogLXNlbGYuYmFubmVyV2lkdGh9KTtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCA9IDI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmFuaW1hdGUoKTtcclxuICAgIH0sIDIwMDApO1xyXG59O1xyXG5cclxuXHJcbkJhbm5lci5wcm90b3R5cGUubGlzdGVuQXJyb3dDbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGVmdEFycm93LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoc2VsZi5pbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvLyA9Pe+8mjEgPT0gJzEn77yadHJ1ZVxyXG4gICAgICAgICAgICAvLyA9PT09IDEgIT0gJzEnXHJcbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHtcImxlZnRcIjogLXNlbGYuYmFubmVyQ291bnQgKiBzZWxmLmJhbm5lcldpZHRofSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSBzZWxmLmJhbm5lckNvdW50IC0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4LS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2VsZi5yaWdodEFycm93LmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoc2VsZi5pbmRleCA9PT0gc2VsZi5iYW5uZXJDb3VudCArIDEpIHtcclxuICAgICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3Moe1wibGVmdFwiOiAtc2VsZi5iYW5uZXJXaWR0aH0pO1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4ID0gMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlbkJhbm5lckhvdmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5iYW5uZXJHcm91cC5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8g56ys5LiA5Liq5Ye95pWw5piv77yM5oqK6byg5qCH56e75Yqo5YiwYmFubmVy5LiK5Lya5omn6KGM55qE5Ye95pWwXHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChzZWxmLnRpbWVyKTtcclxuICAgICAgICBzZWxmLnRvZ2dsZUFycm93KHRydWUpO1xyXG4gICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIOesrOS6jOS4quWHveaVsOaYr++8jOaKium8oOagh+S7jmJhbm5lcuS4iuenu+i1sOS8muaJp+ihjOeahOWHveaVsFxyXG4gICAgICAgIHNlbGYubG9vcCgpO1xyXG4gICAgICAgIHNlbGYudG9nZ2xlQXJyb3coZmFsc2UpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlblBhZ2VDb250cm9sID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5wYWdlQ29udHJvbC5jaGlsZHJlbihcImxpXCIpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBvYmopIHtcclxuICAgICAgICAkKG9iaikuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5CYW5uZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdEJhbm5lcigpO1xyXG4gICAgdGhpcy5pbml0UGFnZUNvbnRyb2woKTtcclxuICAgIHRoaXMubG9vcCgpO1xyXG4gICAgdGhpcy5saXN0ZW5CYW5uZXJIb3ZlcigpO1xyXG4gICAgdGhpcy5saXN0ZW5BcnJvd0NsaWNrKCk7XHJcbiAgICB0aGlzLmxpc3RlblBhZ2VDb250cm9sKCk7XHJcbn07XHJcblxyXG5cclxuLy8g6aaW6aG15paw6Ze75Yqg6L29XHJcbmZ1bmN0aW9uIE5ld3MoKSB7XHJcbiAgICB0aGlzLnBhZ2UgPSAyO1xyXG59XHJcblxyXG5OZXdzLnByb3RvdHlwZS5saXN0ZW5Mb2FkTW9yZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGxvYWRNb3JlQnRuID0gJChcIiNsb2FkLW1vcmVcIik7XHJcbiAgICBsb2FkTW9yZUJ0bi5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQuZ2V0KHtcclxuICAgICAgICAgICAgdXJsOiAnL25ld3MvbGlzdC8nLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBwOiBzZWxmLnBhZ2UsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVsnY29kZSddID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSBkYXRhWydkYXRhJ107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld3Nlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZShcIm5ld3MtaXRlbVwiLCB7XCJuZXdzZXNcIjogbmV3c2VzfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1bCA9ICQoXCIubGlzdC1pbm5lci1ncm91cFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdWwuYXBwZW5kKHRwbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZE1vcmVCdG4uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kYXRhTWVzc2FnZS5nZXRNZXNzYWdlKGRhdGEpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5OZXdzLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmxpc3RlbkxvYWRNb3JlRXZlbnQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJhbm5lciA9IG5ldyBCYW5uZXIoKTtcclxuICAgIGJhbm5lci5ydW4oKTtcclxuXHJcbiAgICB2YXIgbmV3cyA9IG5ldyBOZXdzKCk7XHJcbiAgICBuZXdzLnJ1bigpO1xyXG59KTsiXX0=
